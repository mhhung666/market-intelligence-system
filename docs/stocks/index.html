<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€‹è‚¡è¿½è¹¤ | Market Intelligence System</title>
    <meta name="description" content="å¸‚å ´æƒ…å ±ç³»çµ± - å€‹è‚¡åˆ†æè¿½è¹¤åˆ—è¡¨">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-bx1RjgqPsuwZuC9Anb3iqN+EgZScFTG49YB35G5FbKFtE+08sZzIcGcav6pDgZuuWpbOEtxzKqrD+9Y+YrbMtw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="../styles.css">
    <style>
        .search-box {
            margin: 24px 0;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 16px 48px 16px 20px;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            color: var(--text);
            font-size: 1rem;
            font-family: var(--font-sans);
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(34, 211, 238, 0.15);
        }

        .search-icon {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--muted);
            pointer-events: none;
        }

        .stocks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 28px;
        }

        .stock-card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            text-decoration: none;
            color: var(--text);
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stock-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--accent-2));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .stock-card:hover::before {
            transform: scaleX(1);
        }

        .stock-card:hover {
            transform: translateY(-6px);
            border-color: rgba(56, 189, 248, 0.5);
            box-shadow: 0 20px 50px rgba(56, 189, 248, 0.2);
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 16px;
        }

        .stock-symbol {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            letter-spacing: 0.5px;
        }

        .stock-name {
            font-size: 0.95rem;
            color: var(--muted);
            margin-top: 4px;
        }

        .stock-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 14px;
        }

        .stock-badge {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-positive {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .badge-negative {
            background: rgba(239, 68, 68, 0.15);
            color: var(--danger);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .badge-neutral {
            background: rgba(245, 158, 11, 0.15);
            color: var(--warning);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .stock-update {
            font-size: 0.85rem;
            color: var(--muted);
            margin-top: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--muted);
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        @media (max-width: 768px) {
            .stocks-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="page-stock theme-dark">
    <div class="page-shell">
        <nav class="top-nav">
            <span class="nav-brand">ğŸ“Š Market Intelligence System</span>
            <div class="nav-links">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../market.html" class="nav-link">Market Analysis</a>
                <a href="../holdings.html" class="nav-link">Holdings Analysis</a>
                <a href="index.html" class="nav-link active">Stocks</a>
            </div>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="åˆ‡æ›æ·±/æ·ºè‰²æ¨¡å¼">
                    <i class="fa-solid fa-moon" id="themeIcon" aria-hidden="true"></i>
                </button>
            </div>
        </nav>

        <header class="report-hero">
            <div>
                <p class="eyebrow">Stock Analysis</p>
                <h1>ğŸ“ˆ å€‹è‚¡è¿½è¹¤åˆ—è¡¨</h1>
                <p class="hero-note">å³æ™‚è¿½è¹¤é‡é»å€‹è‚¡çš„æœ€æ–°åˆ†æèˆ‡å¸‚å ´å‹•æ…‹</p>
            </div>
        </header>

        <main class="page-layout no-toc">
            <div class="search-box">
                <input
                    type="text"
                    class="search-input"
                    id="searchInput"
                    placeholder="æœå°‹è‚¡ç¥¨ä»£ç¢¼æˆ–å…¬å¸åç¨±..."
                    autocomplete="off"
                >
                <i class="fa-solid fa-search search-icon"></i>
            </div>

            <div class="stocks-grid" id="stocksGrid">
                <!-- è‚¡ç¥¨å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
            </div>

            <div class="no-results" id="noResults" style="display: none;">
                <i class="fa-solid fa-search"></i>
                <h3>æ‰¾ä¸åˆ°ç¬¦åˆçš„è‚¡ç¥¨</h3>
                <p>è«‹å˜—è©¦å…¶ä»–æœå°‹é—œéµå­—</p>
            </div>
        </main>

        <button class="back-to-top" id="backToTop" aria-label="å›åˆ°é ‚éƒ¨">â†‘</button>

        <footer>
            <p>Powered by Market Intelligence System | MH Hung | Â© 2025</p>
        </footer>
    </div>

    <script>
        // è‚¡ç¥¨è³‡æ–™
        const stocks = [
            {
                        "symbol": "ALK",
                        "name": "ALK",
                        "sentiment": "positive",
                        "newsCount": 3,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "DKNG",
                        "name": "DKNG",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "GOOGL",
                        "name": "GOOGL",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "INTC",
                        "name": "INTC",
                        "sentiment": "neutral",
                        "newsCount": 3,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "MBLY",
                        "name": "MBLY",
                        "sentiment": "positive",
                        "newsCount": 2,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "MTN",
                        "name": "MTN",
                        "sentiment": "negative",
                        "newsCount": 4,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "PINS",
                        "name": "PINS",
                        "sentiment": "positive",
                        "newsCount": 3,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "TSLA",
                        "name": "TSLA",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "U",
                        "name": "U",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "UPS",
                        "name": "UPS",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            },
            {
                        "symbol": "UPST",
                        "name": "UPST",
                        "sentiment": "positive",
                        "newsCount": 5,
                        "lastUpdate": "2025-12-05"
            }
];

        // æ¸²æŸ“è‚¡ç¥¨å¡ç‰‡
        function renderStocks(filteredStocks) {
            const grid = document.getElementById('stocksGrid');
            const noResults = document.getElementById('noResults');

            if (filteredStocks.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            noResults.style.display = 'none';

            grid.innerHTML = filteredStocks.map(stock => {
                const sentimentClass = `badge-${stock.sentiment}`;
                const sentimentLabel = {
                    'positive': 'ğŸŸ¢ æ­£é¢',
                    'negative': 'ğŸ”´ è² é¢',
                    'neutral': 'ğŸŸ¡ ä¸­æ€§'
                }[stock.sentiment];

                return `
                    <a href="${stock.symbol}.html" class="stock-card">
                        <div class="stock-header">
                            <div>
                                <div class="stock-symbol">${stock.symbol}</div>
                                <div class="stock-name">${stock.name}</div>
                            </div>
                        </div>
                        <div class="stock-meta">
                            <span class="stock-badge ${sentimentClass}">${sentimentLabel}</span>
                            <span class="stock-badge" style="background: rgba(34, 211, 238, 0.12); color: var(--accent); border: 1px solid rgba(34, 211, 238, 0.3);">
                                ${stock.newsCount} å‰‡æ–°è
                            </span>
                        </div>
                        <div class="stock-update">
                            <i class="fa-regular fa-clock"></i>
                            <span>æ›´æ–°æ–¼ ${stock.lastUpdate}</span>
                        </div>
                    </a>
                `;
            }).join('');
        }

        // æœå°‹åŠŸèƒ½
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();

            if (query === '') {
                renderStocks(stocks);
                return;
            }

            const filtered = stocks.filter(stock =>
                stock.symbol.toLowerCase().includes(query) ||
                stock.name.toLowerCase().includes(query)
            );

            renderStocks(filtered);
        });

        // åˆå§‹æ¸²æŸ“
        renderStocks(stocks);

        // ä¸»é¡Œåˆ‡æ›
        function getPreferredTheme() {
            const stored = localStorage.getItem('mis-theme');
            if (stored === 'light' || stored === 'dark') return stored;
            return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
        }

        function applyTheme(theme) {
            const body = document.body;
            body.classList.toggle('theme-light', theme === 'light');
            body.classList.toggle('theme-dark', theme === 'dark');
            localStorage.setItem('mis-theme', theme);

            const toggle = document.getElementById('themeToggle');
            const icon = document.getElementById('themeIcon');
            if (toggle) {
                if (icon) {
                    icon.classList.remove('fa-solid', 'fa-regular');
                    icon.classList.add(theme === 'light' ? 'fa-regular' : 'fa-solid', 'fa-moon');
                }
                toggle.setAttribute('aria-label', `åˆ‡æ›ç‚º${theme === 'light' ? 'å¤œé–“' : 'æ—¥é–“'}æ¨¡å¼`);
            }
        }

        // Back to top
        function handleBackToTop() {
            const btn = document.getElementById('backToTop');
            if (window.pageYOffset > 320) {
                btn.classList.add('visible');
            } else {
                btn.classList.remove('visible');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            applyTheme(getPreferredTheme());
            handleBackToTop();

            let scrollTimeout;
            window.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    handleBackToTop();
                }, 60);
            });

            document.getElementById('backToTop').addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const nextTheme = document.body.classList.contains('theme-light') ? 'dark' : 'light';
                    applyTheme(nextTheme);
                });
            }
        });
    </script>
</body>
</html>
