# Cron æ¸¬è©¦ç‹€æ…‹å ±å‘Š

## âœ… é…ç½®å®Œæˆ

**å®Œæˆæ™‚é–“**: 2025-12-05 22:12
**ç‹€æ…‹**: æº–å‚™æ¸¬è©¦

---

## ğŸ” èªè­‰è¨­å®š

### OAuth Token (å·²é…ç½®)
- **Token é¡å‹**: Claude Code OAuth Token
- **æœ‰æ•ˆæœŸ**: 1 å¹´
- **ç’°å¢ƒè®Šæ•¸**: `CLAUDE_CODE_OAUTH_TOKEN`
- **æ¸¬è©¦çµæœ**: âœ… æœ‰æ•ˆ

---

## â° æ¸¬è©¦æ’ç¨‹

### ç•¶å‰æ¸¬è©¦
- **åŸ·è¡Œæ™‚é–“**: 22:14 (ç´„2åˆ†é˜å¾Œ)
- **æ¸¬è©¦å…§å®¹**: å®Œæ•´ `make daily` workflow
- **æ¸¬è©¦æ—¥èªŒ**: `/tmp/mis_claude_test.log`

### æ­£å¼æ’ç¨‹
- **æ—©ç­**: æ¯å¤© 08:00 (äºæ´²å¸‚å ´æ”¶ç›¤å¾Œ)
- **æ™šç­**: æ¯å¤© 21:00 (ç¾åœ‹å¸‚å ´æ”¶ç›¤å¾Œ)
- **æ­£å¼æ—¥èªŒ**: `/tmp/mis.log`

---

## ğŸ“‹ æ¸¬è©¦å…§å®¹

### 1. è³‡æ–™æŠ“å– (fetch-all)
- âœ… å…¨çƒå¸‚å ´æŒ‡æ•¸
- âœ… æŒå€‰è‚¡ç¥¨åƒ¹æ ¼
- âœ… å¸‚å ´æ–°è (23 å€‹ä¾†æº)

### 2. AI åˆ†æ (analyze-daily)
- âœ… å¸‚å ´åˆ†æå ±å‘Š (ä½¿ç”¨ Claude Sonnet 4.5)
- âœ… å€‹è‚¡åˆ†æå ±å‘Š (é‡å°æœ‰è¿‘æœŸæ–°èçš„æŒè‚¡)
- âœ… æŒå€‰åˆ†æå ±å‘Š

---

## ğŸ“Š ç›£æ§æ–¹å¼

### æ–¹æ³• 1: ç›£æ§è…³æœ¬
```bash
cd /Users/mhhung/Development/MH/market-intelligence-system
./monitor_claude_test.sh
```

### æ–¹æ³• 2: å³æ™‚æ—¥èªŒ
```bash
tail -f /tmp/mis_claude_test.log
```

### æ–¹æ³• 3: æª¢æŸ¥åŸ·è¡Œç‹€æ…‹
```bash
# æª¢æŸ¥æ—¥èªŒæ˜¯å¦å­˜åœ¨
ls -lh /tmp/mis_claude_test.log

# æŸ¥çœ‹æœ€å¾Œå¹¾è¡Œ
tail -20 /tmp/mis_claude_test.log

# æª¢æŸ¥æ˜¯å¦æœ‰éŒ¯èª¤
grep -i error /tmp/mis_claude_test.log
```

---

## ğŸ¯ é æœŸçµæœ

### æˆåŠŸæŒ‡æ¨™
1. âœ… æ—¥èªŒæª”æ¡ˆå·²å‰µå»º (`/tmp/mis_claude_test.log`)
2. âœ… è³‡æ–™æŠ“å–æˆåŠŸ (23/23 æ–°èä¾†æº)
3. âœ… å¸‚å ´åˆ†æå ±å‘Šç”Ÿæˆ (`reports/markdown/market-analysis-*.md`)
4. âœ… æŒå€‰åˆ†æå ±å‘Šç”Ÿæˆ (`reports/markdown/holdings-analysis-*.md`)
5. âœ… æ—¥èªŒä¸­é¡¯ç¤º "âœ… Daily workflow completed!"

### å¯èƒ½çš„å•é¡Œ
- âŒ OAuth token ç„¡æ•ˆ â†’ æŸ¥çœ‹æ—¥èªŒéŒ¯èª¤è¨Šæ¯
- âŒ ç¶²è·¯å•é¡Œ â†’ è³‡æ–™æŠ“å–å¯èƒ½éƒ¨åˆ†å¤±æ•—
- âŒ Claude API é™åˆ¶ â†’ å¯èƒ½éœ€è¦ç­‰å¾…æˆ–ä½¿ç”¨ Ollama

---

## ğŸ“ æ¸¬è©¦å¾Œæ­¥é©Ÿ

### å¦‚æœæ¸¬è©¦æˆåŠŸ âœ…
1. æŸ¥çœ‹ç”Ÿæˆçš„å ±å‘Šå“è³ª
2. ç¢ºèªæ­£å¼æ’ç¨‹ (08:00, 21:00)
3. ç§»é™¤æ¸¬è©¦ä»»å‹™ (22:14 é‚£è¡Œ)
4. é–‹å§‹æ­£å¸¸é‹ä½œ

### å¦‚æœæ¸¬è©¦å¤±æ•— âŒ
1. æª¢æŸ¥æ—¥èªŒ: `tail -50 /tmp/mis_claude_test.log`
2. å°‹æ‰¾éŒ¯èª¤è¨Šæ¯: `grep -i error /tmp/mis_claude_test.log`
3. æ‰‹å‹•æ¸¬è©¦: `cd market-intelligence-system && make daily`
4. è€ƒæ…®ä½¿ç”¨ Ollama ä½œç‚ºå‚™é¸æ–¹æ¡ˆ

---

## ğŸ”§ ç›¸é—œæª”æ¡ˆ

- **Crontab**: `crontab -l`
- **æ¸¬è©¦æ—¥èªŒ**: `/tmp/mis_claude_test.log`
- **æ­£å¼æ—¥èªŒ**: `/tmp/mis.log`
- **ç›£æ§è…³æœ¬**: `./monitor_claude_test.sh`
- **æ¸¬è©¦è…³æœ¬**: `./test_cron.sh`
- **é…ç½®èªªæ˜**: `./CRON_SETUP.md`
- **èªè­‰èªªæ˜**: `./setup_claude_for_cron.md`

---

## âš ï¸ å®‰å…¨æé†’

1. **Token ä¿å¯†**: OAuth token å·²å­˜åœ¨ crontab ä¸­,è«‹å‹¿åˆ†äº« `crontab -l` è¼¸å‡º
2. **å®šæœŸæª¢æŸ¥**: Token æœ‰æ•ˆæœŸ 1 å¹´,è«‹åœ¨ 2026-12-05 å‰æ›´æ–°
3. **ä½¿ç”¨ç›£æ§**: å»ºè­°å®šæœŸæª¢æŸ¥ `/tmp/mis.log` ç¢ºä¿æ­£å¸¸é‹ä½œ

---

**æœ€å¾Œæ›´æ–°**: 2025-12-05 22:12
**ä¸‹æ¬¡æ¸¬è©¦**: 22:14 (ç´„2åˆ†é˜å¾Œ)
